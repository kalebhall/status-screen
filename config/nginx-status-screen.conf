# Serve the display UI
location / {
    root /var/www/html;
    index index.html;
}

# Serve live status.json directly from runtime dir (NOT a copied stale file)
location = /status.json {
    add_header Cache-Control "no-store";
    alias /home/pi/status-screen/status.json;
}

# Control UI + API proxied to Flask control server
location /control {
    proxy_pass http://127.0.0.1:5000/control;
    proxy_set_header Host $host;
}

location /api/ {
    proxy_pass http://127.0.0.1:5000/api/;
    proxy_set_header Host $host;
}
